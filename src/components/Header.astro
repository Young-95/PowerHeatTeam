---
import CTA from "./CTA.astro";
const { pathname } = Astro.url;

---

<header>
<!-- Header Container -->
<div class="flex-container header">
  <!-- Logo -->
  <div class="flex-item">
    <a href="/"><img class="logo" src="/cropped-logo.png.webp" alt="PowerHeat Team Logo" /></a>
  </div>

  <!-- Desktop Nav -->
  <div class="flex-item topnav" id="myTopnav">
    <a href="/" class={pathname === '/' ? 'active' : ''}>Home</a>

    <!-- Dropdown for Services -->
    <div class="dropdown">
      <a href="/services" class={`dropdown-toggle ${pathname.startsWith('/services') ? 'active' : ''}`}>
        Services <span class="arrow">&#9662;</span>
      </a>
      <div class="dropdown-content">
        <a href="/services/electrical" class={pathname === '/services/electrical' ? 'active' : ''}>Electrical</a>
        <a href="/services/plumbing" class={pathname === '/services/plumbing' ? 'active' : ''}>Plumbing</a>
        <a href="/services/heating" class={pathname === '/services/heating' ? 'active' : ''}>Heating</a>
        <a href="/services/renewables" class={pathname === '/services/renewables' ? 'active' : ''}>Renewables</a>
      </div>
    </div>

    <a href="/aboutus" class={pathname === '/aboutus' ? 'active' : ''}>About Us</a>
  </div>

<!-- <div class="flex-item"><h2>Electrical</h2><a href=href="tel:07519662153"><button class='cta-button'><img src="/phone.png" alt="">07519662153</button></a></div>  
<div class="flex-item"><h2>Heating</h2><a href=href="tel:07958112881"><button class='cta-button'><img src="/phone.png" alt="">07958112881</button></a></div>   -->

  <!-- Mobile Burger Menu -->
  <div class="flex-item mobile-menu">
    <a href="javascript:void(0);" class="icon" onclick="toggleSideNav()">
      <i class="fa fa-bars"></i>
    </a>
  </div>


  <!-- Desktop CTA Button -->
  <div class="flex-item">
    <a href="/contactus"><button class="topnav-cta-button cta-button">Book A Callout</button></a>
  </div>
</div>
<!-- Mobile Side Navigation -->
<div id="sideNav" class="sidenav">
  <a href="javascript:void(0)" class="closebtn" onclick="toggleSideNav()">&times;</a>
  <a href="/" class={pathname === '/' ? 'active' : ''}>Home</a>
  <a href="/services" class={pathname.startsWith('/services') ? 'active' : ''}>Services</a>
  <a href="/services/electrical">â€” Electrical</a>
  <a href="/services/plumbing">â€” Plumbing</a>
  <a href="/services/heating">â€” Heating</a>
  <a href="/services/renewables">â€” Renewables</a>
  <a href="/aboutus" class={pathname === '/aboutus' ? 'active' : ''}>About Us</a>
  <a href="/contactus" class={pathname === '/contactus' ? 'active' : ''}>Book A Callout</a>
</div>
<!-- <marquee behavior="scroll" direction="left">
		<div class="marquee-container">
			ðŸš¿ Plumbing &nbsp;&nbsp;&nbsp; â€¢ &nbsp;&nbsp;&nbsp;ðŸ”¥ Heating &nbsp;&nbsp;&nbsp; â€¢ &nbsp;&nbsp;&nbsp;âš¡ Electrical Services &nbsp;&nbsp;&nbsp; â€¢ &nbsp;&nbsp;&nbsp; 24/7 Emergency Callouts &nbsp;&nbsp;&nbsp; â€¢ &nbsp;&nbsp;&nbsp; Trusted Local Experts &nbsp;&nbsp;&nbsp; â€¢ &nbsp;&nbsp;&nbsp; Affordable Rates &nbsp;&nbsp;&nbsp; â€¢ &nbsp;&nbsp;&nbsp; Call Us Today: Electrical: 07519662153 Plumbing & Heating: 07958112881
		</div>
</marquee>
</header> -->
<!-- <CTA /> -->

<style>
  header {
    border-bottom: 2px solid black;
  }

  h2 {
    color: orange;
    text-align: center;
  }

  .cta-button {
    display: flex;
    align-content: center;
  }
  .cta-button img {
        height: 30px;
        padding-right: 10px;
        margin: 0 auto;
  }
</style>

<script is:inline>
  function toggleSideNav() {
    const nav = document.getElementById("sideNav");
    nav.style.width = nav.style.width === "250px" ? "0" : "250px";
  }
</script>
